#!/bin/bash

#
# MIT License
#
# Copyright (c) 2022 Reiikz
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in all
# copies or substantial portions of the Software.
#
# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
# IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
# FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
# AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
# LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
# OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
# SOFTWARE.
#

#######################################################################
######			---------------------------------------------         #
######							ATENTION                              #
######			---------------------------------------------         #
######		PREVIOUSLY THIS SCRIPT REQUIRED THE MODIFICATION          #
######		OF IN FILE VARIABLES, THIS HOWEVER IS NO LONGER THE CASE  #
######		PLEASE REFER TO THE HELP GIVEN WHEN RUNNING THE SCRIPT    #
######		WITH NO OPTIONS FOR MORE INFORMATION ON HOW TO CONFIGURE  #
######		YOUR STARBOUND SERVER									  #
######																  #
#######################################################################


VERSION="sid-(development version)"
COPYRIGHT_YEAR="2022"
SOURCE_URL="https://github.com/Reiikz/your-awesm"
ERROR_REPORTING_TO="https://github.com/Reiikz/your-awesm/issues"
CONFIGVER=2
BUILT_FROM="(NON PACKAGED VERSION)"


INSTALL_PREFIX="/usr/local"

UNIT_FILE_TEMPLATE="$INSTALL_PREFIX/lib/reiikz/your-awesm/templates/template-unit-file.service"
BASH_QOL_MAIN="$INSTALL_PREFIX/lib/reiikz/bash-qol/common"
BASH_QOL_FILES="$INSTALL_PREFIX/lib/reiikz/bash-qol/fileHandling"
BASH_QOL_SCREEN="$INSTALL_PREFIX/lib/reiikz/bash-qol/screen"
BASH_QOL_PROFILER="$INSTALL_PREFIX/lib/reiikz/bash-qol/profiler"
YOUR_AWESM_COMMON_LIBRARY="$INSTALL_PREFIX/lib/reiikz/your-awesm/common"

#load up main library

if ! source "$BASH_QOL_MAIN"; then
	echo -e "Could not load Bash Quality of Life Main library"
	exit 0;
fi

if ! source "$BASH_QOL_FILES"; then
	echo -e "$FC_RED$FC_BOLD""Could not load Bash Quality of Life File handling library""$FC_RESET"
	exit 0;
fi

if ! source "$BASH_QOL_SCREEN"; then
	echo -e "$FC_RED$FC_BOLD""Could not load Bash Quality of Life Screen library""$FC_RESET"
	exit 0;
fi

if ! source "$BASH_QOL_PROFILER"; then
	echo -e "$FC_RED$FC_BOLD""Could not load profiler library""$FC_RESET"
	exit 0;
fi

if ! source "$YOUR_AWESM_COMMON_LIBRARY"; then
	echo -e "$FC_RED$FC_BOLD""Could not load star-server's common library""$FC_RESET"
	exit 0;
fi

if [ -f "$CONFIG_DIR/PRERUN" ]; then
	source "$CONFIG_DIR/PRERUN"
fi


DOCUMENTATION="The Manual (man $(getMyCommandName))"


MY_UID="$(getMasterUniqueId)"

source $USER_HOME/.bashrc 2>/dev/null

######## register star-server unique exceptions


######## functions

function printCopyright {
	coecho "$FC_BOLD$FC_LIGHT_GREEN" "YOUR AWEsome Starbound Manager - $FC_LIGHT_CYAN""your-awesm$FC_LIGHT_GREEN Â© $FC_LIGHT_PINK""Reiikz$FC_LIGHT_GREEN - $COPYRIGHT_YEAR"
	coecho "$FC_BOLD" "$FC_LIGHT_CYAN$MYSELF$FC_LIGHT_GREEN command - v $FC_LIGHT_CYAN$VERSION$FC_LIGHT_GREEN - MIT LICENSED"
	coecho "$FC_BOLD$FC_LIGHT_GREEN" "Official source: $FC_BLUE$SOURCE_URL"
	coecho "$FC_BOLD$FC_LIGHT_GREEN" "Report bugs to: $FC_BLUE$ERROR_REPORTING_TO"
	coecho "$FC_BOLD$FC_LIGHT_GREEN" "For documentation refer to: $FC_BLUE$DOCUMENTATION"
}

echo "${PROFILER_DEFAULTS[test]}"
#parse options

if [ $# -ge 0 ]; then
	printCopyright
	exit 0
fi


